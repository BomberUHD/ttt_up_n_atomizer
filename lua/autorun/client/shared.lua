--Kill Icons
if CLIENT then
	killicon.Add( "gtav_pistol", "vgui/hud/gtav_pistol", Color( 255, 255, 255, 255 ) )
	killicon.Add( "gtav_pistol_extendedmags", "vgui/hud/gtav_pistol_extendedmags", Color( 255, 255, 255, 255 ) )
	killicon.Add( "pistol_mk2", "vgui/hud/pistol_mk2", Color( 255, 255, 255, 255) )
	killicon.Add( "pistol_mk2_extendedmags", "vgui/hud/pistol_mk2_extendedmags", Color( 255, 255, 255, 255) )
	killicon.Add( "pistol_mk2_fmj", "vgui/hud/pistol_mk2_fmj", Color( 255, 255, 255, 255) )
	killicon.Add( "pistol_mk2_hallowpoint", "vgui/hud/pistol_mk2_hallowpoint", Color( 255, 255, 255, 255) )
	killicon.Add( "pistol_mk2_incendiary", "vgui/hud/pistol_mk2_incendiary", Color( 255, 255, 255, 255) )
	killicon.Add( "heavy_pistol", "vgui/hud/heavy_pistol", Color( 255, 255, 255, 255 ) )
	killicon.Add( "heavy_pistol_extendedmags", "vgui/hud/heavy_pistol_extendedmags", Color( 255, 255, 255, 255 ) )
	killicon.Add( "pump_shotgun", "vgui/hud/pump_shotgun", Color( 255, 255, 255, 255 ) )
	killicon.Add( "assault_shotgun", "vgui/hud/assault_shotgun", Color( 255, 255, 255, 255 ) )
	killicon.Add( "assault_shotgun_extendedmags", "vgui/hud/assault_shotgun_extendedmags", Color( 255, 255, 255, 255 ) )
	killicon.Add( "gtav_assault_rifle", "vgui/hud/gtav_assault_rifle", Color( 255, 255, 255, 255 ) )
	killicon.Add( "gtav_assault_rifle_boxmag", "vgui/hud/gtav_assault_rifle_boxmag", Color( 255, 255, 255, 255 ) )
	killicon.Add( "gtav_assault_rifle_extendedmags", "vgui/hud/gtav_assault_rifle_extendedmags", Color( 255, 255, 255, 255 ) )
	killicon.Add( "special_carbine", "vgui/hud/special_carbine", Color( 255, 255, 255, 255 ) )
	killicon.Add( "special_carbine_boxmag", "vgui/hud/special_carbine_boxmag", Color( 255, 255, 255, 255 ) )
	killicon.Add( "special_carbine_extendedmags", "vgui/hud/special_carbine_extendedmags", Color( 255, 255, 255, 255 ) )
	killicon.Add( "gtav_mg", "vgui/hud/gtav_mg", Color( 255, 255, 255, 255 ) )
	killicon.Add( "gtav_mg_extendedmags", "vgui/hud/gtav_mg_extendedmags", Color( 255, 255, 255, 255 ) )
	killicon.Add( "gtav_smg", "vgui/hud/gtav_smg", Color( 255, 255, 255, 255 ) )
	killicon.Add( "gtav_smg_extendedmags", "vgui/hud/gtav_smg_extendedmags", Color( 255, 255, 255, 255 ) )
	killicon.Add( "gtav_smg_boxmag", "vgui/hud/gtav_smg_boxmag", Color( 255, 255, 255, 255 ) )
	killicon.Add( "gtav_hatchet", "vgui/hud/gtav_hatchet", Color( 255, 255, 255, 255 ) )
	killicon.Add( "gtav_knife", "vgui/hud/gtav_knife", Color( 255, 255, 255, 255 ) )
	killicon.Add( "gtav_sniperrifle", "vgui/hud/gtav_sniperrifle", Color( 255, 255, 255, 255 ) )
	killicon.Add( "marksman_rifle", "vgui/hud/marksman_rifle", Color( 255, 255, 255, 255 ) )
	killicon.Add( "marksman_rifle_extendedmags", "vgui/hud/marksman_rifle_extendedmags", Color( 255, 255, 255, 255 ) )
	killicon.Add( "combat_pistol", "vgui/hud/combat_pistol", Color ( 255, 255, 255, 255 ) )
	killicon.Add( "combat_pistol_extendedmags", "vgui/hud/combat_pistol_extendedmags", Color ( 255, 255, 255, 255 ) )
	killicon.Add( "assault_rifle_mk2", "vgui/hud/assault_rifle_mk2", Color ( 255, 255, 255, 255 ) )
	killicon.Add( "assault_rifle_mk2_extendedmags", "vgui/hud/assault_rifle_mk2_extendedmags", Color ( 255, 255, 255, 255 ) )
	killicon.Add( "assault_rifle_mk2_armorpiercing", "vgui/hud/assault_rifle_mk2_armorpiercing", Color ( 255, 255, 255, 255 ) )
	killicon.Add( "assault_rifle_mk2_fmj", "vgui/hud/assault_rifle_mk2_fmj", Color ( 255, 255, 255, 255 ) )
	killicon.Add( "assault_rifle_mk2_incendiary", "vgui/hud/assault_rifle_mk2_incendiary", Color ( 255, 255, 255, 255 ) )
	killicon.Add( "gtav_carbine_rifle", "vgui/hud/gtav_carbine_rifle", Color ( 255, 255, 255, 255 ) )
	killicon.Add( "gtav_carbine_rifle_extendedmags", "vgui/hud/gtav_carbine_rifle_extendedmags", Color ( 255, 255, 255, 255 ) )
	killicon.Add( "gtav_carbine_rifle_boxmag", "vgui/hud/gtav_carbine_rifle_boxmag", Color ( 255, 255, 255, 255 ) )
	killicon.Add( "bullpup_rifle", "vgui/hud/bullpup_rifle", Color ( 255, 255, 255, 255 ) )
	killicon.Add( "bullpup_rifle_extendedmags", "vgui/hud/bullpup_rifle_extendedmags", Color ( 255, 255, 255, 255 ) )
	killicon.Add( "gtav_40mm_grenade", "vgui/hud/gtav_grenade_launcher", Color( 255, 255, 255, 255 ) )
	killicon.Add( "gtav_40mm_grenade_compact", "vgui/hud/compact_grenade_launcher", Color( 255, 255, 255, 255 ) )
	killicon.Add( "sweeper_shotgun", "vgui/hud/sweeper_shotgun", Color( 255, 255, 255, 255 ) )
	killicon.Add( "heavy_shotgun", "vgui/hud/heavy_shotgun", Color( 255, 255, 255, 255 ) )
	killicon.Add( "heavy_shotgun_extendedmags", "vgui/hud/heavy_shotgun_extendedmags", Color( 255, 255, 255, 255 ) )
	killicon.Add( "heavy_shotgun_boxmag", "vgui/hud/heavy_shotgun_boxmag", Color( 255, 255, 255, 255 ) )
	killicon.Add( "assault_smg", "vgui/hud/assault_smg", Color( 255, 255, 255, 255 ) )
	killicon.Add( "assault_smg_extendedmags", "vgui/hud/assault_smg_extendedmags", Color( 255, 255, 255, 255 ) )
	killicon.Add( "pump_shotgun_mk2", "vgui/hud/pump_shotgun_mk2", Color( 255, 255, 255, 255) )
	killicon.Add( "combat_mg", "vgui/hud/combat_mg", Color( 255, 255, 255, 255) )
	killicon.Add( "combat_mg_extendedmags", "vgui/hud/combat_mg_extendedmags", Color( 255, 255, 255, 255) )
	killicon.Add( "ap_pistol", "vgui/hud/ap_pistol", Color( 255, 255, 255, 255) )
	killicon.Add( "ap_pistol_extendedmags", "vgui/hud/ap_pistol_extendedmags", Color( 255, 255, 255, 255) )
	killicon.Add( "pistol50", "vgui/hud/pistol50", Color( 255, 255, 255, 255) )
	killicon.Add( "pistol50_extendedmags", "vgui/hud/pistol50_extendedmags", Color( 255, 255, 255, 255) )
	killicon.Add( "heavy_revolver", "vgui/hud/heavy_revolver", Color( 255, 255, 255, 255) )
	killicon.Add( "smg_mk2", "vgui/hud/smg_mk2", Color( 255, 255, 255, 255) )
	killicon.Add( "smg_mk2_extendedmags", "vgui/hud/smg_mk2_extendedmags", Color( 255, 255, 255, 255) )
	killicon.Add( "gtav_doublebarrel_shotgun", "vgui/hud/gtav_doublebarrel_shotgun", Color( 255, 255, 255, 255) )
	killicon.Add( "heavy_sniper", "vgui/hud/heavy_sniper", Color( 255, 255, 255, 255) )
	killicon.Add( "combat_pdw", "vgui/hud/combat_pdw", Color( 255, 255, 255, 255) )
	killicon.Add( "combat_pdw_extendedmags", "vgui/hud/combat_pdw_extendedmags", Color( 255, 255, 255, 255) )
	killicon.Add( "combat_pdw_boxmag", "vgui/hud/combat_pdw_boxmag", Color( 255, 255, 255, 255) )
	killicon.Add( "advanced_rifle", "vgui/hud/advanced_rifle", Color( 255, 255, 255, 255) )
	killicon.Add( "advanced_rifle_extendedmags", "vgui/hud/advanced_rifle_extendedmags", Color( 255, 255, 255, 255) )
	killicon.Add( "gusenberg_sweeper", "vgui/hud/gusenberg_sweeper", Color( 255, 255, 255, 255) )
	killicon.Add( "gusenberg_sweeper_extendedmags", "vgui/hud/gusenberg_sweeper_extendedmags", Color( 255, 255, 255, 255) )
	killicon.Add( "gtav_musket", "vgui/hud/gtav_musket", Color( 255, 255, 255, 255 ) )
	killicon.Add( "micro_smg", "vgui/hud/micro_smg", Color( 255, 255, 255, 255 ))
	killicon.Add( "micro_smg_extendedmags", "vgui/hud/micro_smg_extendedmags", Color( 255, 255, 255, 255 ))
	killicon.Add( "gtav_machete", "vgui/hud/gtav_machete", Color( 255, 255, 255, 255 ))
	killicon.Add( "gtav_baseballbat", "vgui/hud/gtav_baseballbat", Color( 255, 255, 255, 255))
	killicon.Add( "gtav_crowbar", "vgui/hud/gtav_crowbar", Color( 255, 255, 255, 255))
	killicon.Add( "gtav_broken_bottle", "vgui/hud/gtav_broken_bottle", Color( 255, 255, 255, 255))
	killicon.Add( "sns_pistol", "vgui/hud/sns_pistol", Color( 255, 255, 255, 255))
	killicon.Add( "sns_pistol_extendedmags", "vgui/hud/sns_pistol_extendedmags", Color( 255, 255, 255, 255))
	killicon.Add( "compact_rifle", "vgui/hud/compact_rifle", Color( 255, 255, 255, 255))
	killicon.Add( "compact_rifle_extendedmags", "vgui/hud/compact_rifle_extendedmags", Color( 255, 255, 255, 255))
	killicon.Add( "compact_rifle_boxmag", "vgui/hud/compact_rifle_boxmag", Color( 255, 255, 255, 255))
	killicon.Add( "machine_pistol", "vgui/hud/machine_pistol", Color( 255, 255, 255, 255 ) )
	killicon.Add( "machine_pistol_extendedmags", "vgui/hud/machine_pistol_extendedmags", Color( 255, 255, 255, 255 ) )
	killicon.Add( "machine_pistol_boxmag", "vgui/hud/machine_pistol_boxmag", Color( 255, 255, 255, 255 ) )
	killicon.Add( "pipewrench", "vgui/hud/pipewrench", Color( 255, 255, 255, 255 ) ) 
	killicon.Add( "heavy_revolver_mk2", "vgui/hud/heavy_revolver_mk2", Color ( 255, 255, 255, 255 ) )
	killicon.Add( "mini_smg", "vgui/hud/mini_smg", Color ( 255, 255, 255, 255) )
	killicon.Add( "mini_smg_extendedmags", "vgui/hud/mini_smg_extendedmags", Color ( 255, 255, 255, 255) )
	killicon.Add( "pool_cue", "vgui/hud/pool_cue", Color ( 255, 255, 255, 255) )
	killicon.Add( "sawedoff_shotgun", "vgui/hud/sawedoff_shotgun", Color ( 255, 255, 255, 255) )
	killicon.Add( "bullpup_shotgun", "vgui/hud/bullpup_shotgun", Color ( 255, 255, 255, 255) )
	killicon.Add( "gtav_battleaxe", "vgui/hud/gtav_battleaxe", Color( 255, 255, 255, 255 ) )
	killicon.Add( "gtav_stonehatchet", "vgui/hud/gtav_stonehatchet", Color( 255, 255, 255, 255 ) )
	killicon.Add( "gtav_nightstick", "vgui/hud/gtav_nightstick", Color( 255, 255, 255, 255 ) )
	killicon.Add( "knuckle_dusters", "vgui/hud/knuckle_dusters", Color( 255, 255, 255, 255 ) )
	killicon.Add( "gtav_flashlight", "vgui/hud/gtav_flashlight", Color( 255, 255, 255, 255 ) )
	killicon.Add( "gtav_club", "vgui/hud/gtav_club", Color( 255, 255, 255, 255 ) )
	killicon.Add( "gtav_hammer", "vgui/hud/gtav_hammer", Color( 255, 255, 255, 255 ) )
	killicon.Add( "antiquecavalrydagger", "vgui/hud/antiquecavalrydagger", Color( 255, 255, 255, 255 ) )
	killicon.Add( "gtav_switchblade", "vgui/hud/gtav_switchblade", Color( 255, 255, 255, 255 ) )
	killicon.Add( "marksman_pistol", "vgui/hud/marksman_pistol", Color( 255, 255, 255, 255 ) )
	killicon.Add( "vintage_pistol", "vgui/hud/vintage_pistol", Color( 255, 255, 255, 255 ) )
	killicon.Add( "vintage_pistol_extendedmags", "vgui/hud/vintage_pistol_extendedmags", Color( 255, 255, 255, 255 ) )
	killicon.Add( "doubleactionrevolver", "vgui/hud/doubleactionrevolver", Color ( 255, 255, 255, 255 ))
	killicon.Add( "ceramicpistol", "vgui/hud/ceramicpistol", Color ( 255, 255, 255, 255))
	killicon.Add( "ceramicpistol_extendedmags", "vgui/hud/ceramicpistol_extendedmags", Color ( 255, 255, 255, 255))
	killicon.Add( "special_carbine_mk2", "vgui/hud/special_carbine_mk2", Color( 255, 255, 255, 255))
	killicon.Add( "carbine_rifle_mk2", "vgui/hud/carbine_rifle_mk2", Color( 255, 255, 255, 255))
	killicon.Add( "bullpup_rifle_mk2", "vgui/hud/bullpup_rifle_mk2", Color( 255, 255, 255, 255))
	killicon.Add( "combat_mg_mk2", "vgui/hud/combat_mg_mk2", Color( 255, 255, 255, 255))
	killicon.Add( "marksman_rifle_mk2", "vgui/hud/marksman_rifle_mk2", Color( 255, 255, 255, 255))
	killicon.Add( "heavy_sniper_mk2", "vgui/hud/heavy_sniper_mk2", Color( 255, 255, 255, 255))
	killicon.Add( "sns_pistol_mk2", "vgui/hud/sns_pistol_mk2", Color( 255, 255, 255, 255))
	killicon.Add( "navy_revolver", "vgui/hud/navy_revolver", Color( 255, 255, 255, 255))
end

-------------------------------------------------------------------------------------------------------------------------------------------------------------------------

if SERVER then AddCSLuaFile() end

sound.Add({
	['name'] = "TFA_GTAV_HATCHET.Swing",
	['channel'] = CHAN_STATIC,
	['sound'] = { "knife/swing.wav"},
	['pitch'] = {95,105},
	['level'] = 40
})
sound.Add({
	['name'] = "TFA_GTAV_HATCHET.HitFlesh",
	['channel'] = CHAN_STATIC,
	['sound'] = { "knife/hitflesh_1.wav", "knife/hitflesh_2.wav", "knife/hitflesh_3.wav"},
	['pitch'] = {95,105},
	['level'] = 100
})
sound.Add({
	['name'] = "TFA_GTAV_HATCHET.HitWorld",
	['channel'] = CHAN_STATIC,
	['sound'] = { "knife/hitworld_1.wav", "knife/hitworld_2.wav" },
	['pitch'] = {95,105}
})
sound.Add({
	['name'] = "TFA_GTAV_KNIFE.Swing",
	['channel'] = CHAN_STATIC,
	['sound'] = { "knife/swing.wav"},
	['pitch'] = {95,105},
	['level'] = 40
})
sound.Add({
	['name'] = "TFA_GTAV_KNIFE.HitFlesh",
	['channel'] = CHAN_STATIC,
	['sound'] = { "knife/hitflesh_1.wav", "knife/hitflesh_2.wav", "knife/hitflesh_3.wav"},
	['pitch'] = {95,105},
	['level'] = 100
})
sound.Add({
	['name'] = "TFA_GTAV_KNIFE.HitWorld",
	['channel'] = CHAN_STATIC,
	['sound'] = { "knife/hitworld_1.wav", "knife/hitworld_2.wav" },
	['pitch'] = {95,105}
})

if CLIENT then
		net.Receive("GTAVH_ClientPlayExplSound", function(len, ply)
		local pos = net.ReadVector()
		local dist = LocalPlayer():GetPos():Distance(pos)
		
		local strg = (3000 - dist) / 100
		if strg > 0.1 then
			util.ScreenShake(pos, strg, 20, 0.5, 10)
		end
		
		if dist < 4000 then
			sound.Play("gta5/expl_hit_".. math.random(1,6) ..".wav", pos, 100, 100, 1)
		else
			sound.Play("gta5/expl_hit_far".. math.random(1,6) ..".wav", pos, 160, 100, 1)
		end
	end)
end

if CLIENT then
		net.Receive("GTAVH_ClientPlayExplSoundSmall", function(len, ply)
		local pos = net.ReadVector()
		local dist = LocalPlayer():GetPos():Distance(pos)
		
		local strg = (3000 - dist) / 100
		if strg > 0.1 then
			util.ScreenShake(pos, strg, 5, 0.1, 5)
		end
		
		if dist < 4000 then
			sound.Play("gta5/small_explosion_".. math.random(1,2) ..".wav", pos, 100, 100, 1)
		else
			sound.Play("gta5/expl_hit_far".. math.random(1,6) ..".wav", pos, 160, 100, 1)
		end
	end)
end

--------------------------------------------------------------------------------------------------------------------------------

if SERVER then AddCSLuaFile() end

sound.Add({
	['name'] = "TFA_GTAV_MACHETE.HitFlesh",
	['channel'] = CHAN_STATIC,
	['sound'] = { "machete/hitflesh.wav"},
	['pitch'] = {95,105},
	['level'] = 40
})
sound.Add({
	['name'] = "TFA_GTAV_NIGHTSTICK.HitFlesh",
	['channel'] = CHAN_STATIC,
	['sound'] = { "nightstick/hitflesh.wav"},
	['pitch'] = {95,105},
	['level'] = 40
})
sound.Add({
	['name'] = "TFA_GTAV_BAT.HitFlesh",
	['channel'] = CHAN_STATIC,
	['sound'] = { "baseball_bat/hitflesh.wav"},
	['pitch'] = {95,105},
	['level'] = 100
})
sound.Add({
	['name'] = "TFA_GTAV_BAT.Swing",
	['channel'] = CHAN_STATIC,
	['sound'] = { "knife/swing.wav"},
	['pitch'] = {95,105},
	['level'] = 40
})